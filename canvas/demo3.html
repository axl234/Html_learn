<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Canvas render Video</title>
</head>
<body>
	<canvas></canvas>
	<video preload="auto" x-webkit-airplay="true" webkit-playsinline="true" playsinline="true">
		<source src="../video/step1.mp4" type="video/mp4">
	</video>
	<script type="text/javascript">
		document.addEventListener('DOMContentLoaded',function(){
			var first = true;
			var width;
			var height;

			var canvas = document.querySelector('canvas');
			var context = canvas.getContext('2d');

			var video = document.querySelector('video');

			document.addEventListener('click',function(){
				video.play();
			},false);

			video.addEventListener('timeupdate',function(){
				if(first){
					var videoStyle = window.getComputedStyle(video);
					width = parseInt(videoStyle.width);
					height = parseInt(videoStyle.height);
					canvas.style.width = width+'px';
					canvas.style.height = height+'px';
					canvas.width = width;
					canvas.height = height;
				}
				context.drawImage(video,0,0,width,height);
			},false);

		},false);
	</script>
</body>
</html>