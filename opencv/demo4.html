<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>add、subtract</title>
</head>
<body>
	<img id="input1" src="../img/orange.png" alt="">
	<img id="input2" src="../img/apple.png" alt="">
	<canvas id="addOutput" width="320" height="320"></canvas>
	<canvas id="subOutput" width="320" height="320"></canvas>
	<script src="../lib/opencv.js" type="text/javascript"></script>
	<script>
		window.onload = function(){

			let $input1 = document.querySelector('#input1');
            let src1= cv.imread($input1);//读取图片

            let $input2 = document.querySelector('#input2');
            let src2= cv.imread($input2);

            let dtype = -1;

            //算术加法操作
            let addDst = new cv.Mat();
            let addMask = new cv.Mat();
            cv.add(src1, src2, addDst, addMask, dtype);
            cv.imshow('addOutput', addDst);

            //算术减法操作
            let subDst = new cv.Mat();
            let subMask = new cv.Mat();
            cv.subtract(src1, src2, subDst, subMask, dtype);
            cv.imshow('subOutput', subDst);

            src1.delete(); 
            src2.delete(); 
            addDst.delete(); 
            addMask.delete();
            subDst.delete(); 
            subMask.delete();
		}
	</script>
</body>
</html>