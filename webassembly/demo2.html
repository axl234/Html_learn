<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>测试 WebAssembly.instantiate、asm.js、获取字符串返回、传入字符串</title>
</head>

<body>
    <script type="text/javascript" src="demo2.js"></script>
    <script>
        Module['onRuntimeInitialized'] = function () {
            console.log(Module._bezier1(0.5, 10, 20));

            var p0 = Module._hello();
            console.log(Module.UTF8ToString(p0));

            var name = "newyoungli";
            var ptr = allocate(intArrayFromString(name), 'i8', ALLOC_NORMAL);
            var p1 = Module._sayHi(ptr);
            console.log(Module.UTF8ToString(p1))
        };
    </script>
</body>

</html>