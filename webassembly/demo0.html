<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>简单加载wasm文件并在js中执行</title>
</head>

<body>
    <script src="./loadWebAssembly.js"></script>
    <script>
        //emcc demo0.c -Os -s WASM=1 -s SIDE_MODULE=1 -o demo0.wasm
        window.onload = function () {
            loadWebAssembly('./demo0.wasm')
                .then(instance => {
                    const add = instance.exports.add
                    const minus = instance.exports.minus

                    console.log('2 + 4 =', add(2, 4));
                    console.log('3 - 2 =', minus(3, 2));
                })
        }
    </script>
</body>

</html>